{"version":3,"sources":["webpack:///./node_modules/@ecomplus/widget-product/src/index.js"],"names":["options","elId","$productBlock","document","getElementById","$dock","getScopedSlots","window","storefront","Vue","render","h","TheProduct","attrs","id","props","buyText","isSSR","Boolean","on","$loading","remove","dataset","toRender","scopedSlots","Object","assign","buy","domProps","innerHTML","undefined","$mount"],"mappings":";2FAAA,qCASe,WAACA,EAAU,GAAIC,EAAO,aACnC,MAAMC,EAAgBC,SAASC,eAAeH,GAC9C,GAAIC,EAAe,CACjB,MAAMG,EAAQF,SAASC,eAAT,UAA2BH,EAA3B,UACRK,EAAiBC,OAAOC,YAAcD,OAAOC,WAAWF,eAE9D,IAAIG,IAAI,CACNC,OAAQC,GAAKA,EAAEC,IAAY,CACzBC,MAAO,CACLC,GAAIT,EAAQ,KAAOJ,GAErBc,MAAO,IACFf,EAAQe,MACXC,QAAShB,EAAQgB,QACjBC,MAAOC,QAAQb,IAEjBc,GAAI,CACF,mBACE,MAAMC,EAAWjB,SAASC,eAAe,mBACrCgB,GACFA,EAASC,gBAEJnB,EAAcoB,QAAQC,WAIjCC,YAAaC,OAAOC,OAClB,CACEC,IAAM3B,EAAQ2B,IAAkB,WAC9B,OAAOhB,EAAE,OAAQ,CACfiB,SAAU,CACRC,UAAW7B,EAAQ2B,aAHLG,GAQI,mBAAnBxB,EACHA,EAAeJ,EAAeS,GAAIN,GAAS,QAGlD0B,OAAO1B,GAASH","file":"chunk.2bd54c1eb531a0f1de72.js","sourcesContent":["/*!\n * @ecomplus/widget-product\n * (c) E-Com Club <ti@e-com.club>\n * Released under the MIT License.\n */\n\nimport Vue from 'vue'\nimport TheProduct from '#components/TheProduct.vue'\n\nexport default (options = {}, elId = 'product') => {\n  const $productBlock = document.getElementById(elId)\n  if ($productBlock) {\n    const $dock = document.getElementById(`${elId}-dock`)\n    const getScopedSlots = window.storefront && window.storefront.getScopedSlots\n\n    new Vue({\n      render: h => h(TheProduct, {\n        attrs: {\n          id: $dock ? null : elId\n        },\n        props: {\n          ...options.props,\n          buyText: options.buyText,\n          isSSR: Boolean($dock)\n        },\n        on: {\n          'update:product' () {\n            const $loading = document.getElementById('product-loading')\n            if ($loading) {\n              $loading.remove()\n            }\n            delete $productBlock.dataset.toRender\n          }\n        },\n\n        scopedSlots: Object.assign(\n          {\n            buy: !options.buy ? undefined : function () {\n              return h('span', {\n                domProps: {\n                  innerHTML: options.buy\n                }\n              })\n            }\n          },\n          typeof getScopedSlots === 'function'\n            ? getScopedSlots($productBlock, h, !$dock) : {}\n        )\n      })\n    }).$mount($dock || $productBlock)\n  }\n}\n"],"sourceRoot":""}